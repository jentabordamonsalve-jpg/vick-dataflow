<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VICK DATAFLOW - Avanzado</title>

    <!-- Librería de gráficas -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #f2f6fa;
        }
        .sidebar {
            width: 260px;
            background: #003d80;
            color: white;
            height: 100vh;
            position: fixed;
            padding-top: 20px;
        }
        .sidebar h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .sidebar a {
            display: block;
            padding: 15px 20px;
            color: white;
            text-decoration: none;
            font-weight: bold;
        }
        .sidebar a:hover {
            background: #0066cc;
        }
        .content {
            margin-left: 270px;
            padding: 20px;
        }
        .card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        }
        .chart-container {
            width: 100%;
            height: 300px;
        }
        .alerta {
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .roja { background: #ffd6d6; border-left: 6px solid red; }
        .amarilla { background: #fff3cd; border-left: 6px solid orange; }
        .verde { background: #d4edda; border-left: 6px solid green; }

        .city-buttons button {
            padding: 10px 20px;
            border: none;
            margin: 5px;
            cursor: pointer;
            border-radius: 6px;
            background: #0066cc;
            color: white;
            font-weight: bold;
        }
        .city-buttons button:hover {
            background: #004c99;
        }
        .map-box {
            background: #e9eef5;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <div class="sidebar">
        <h2>VICK DATAFLOW</h2>
        <a href="#dashboard">Dashboard</a>
        <a href="#inventarios">Inventarios</a>
        <a href="#tendencias">Tendencias</a>
        <a href="#recomendaciones">Recomendaciones</a>
    </div>

    <div class="content">

        <!-- DASHBOARD -->
        <div id="dashboard" class="card">
            <h2>Dashboard general</h2>

            <div class="chart-container">
                <canvas id="demandaChart"></canvas>
            </div>

            <div id="alertas"></div>
        </div>

        <!-- INVENTARIOS -->
        <div id="inventarios" class="card">
            <h2>Inventarios por ciudad</h2>

            <div class="chart-container">
                <canvas id="inventarioChart"></canvas>
            </div>

            <div class="map-box">
                Mapa simulación: Bogotá, Medellín, Cali activas
            </div>
        </div>

        <!-- TENDENCIAS -->
        <div id="tendencias" class="card">
            <h2>Tendencias digitales por ciudad</h2>

            <div class="city-buttons">
                <button onclick="cambiarCiudad('Bogotá')">Bogotá</button>
                <button onclick="cambiarCiudad('Medellín')">Medellín</button>
                <button onclick="cambiarCiudad('Cali')">Cali</button>
            </div>

            <div class="chart-container">
                <canvas id="tendenciasChart"></canvas>
            </div>
        </div>

        <!-- RECOMENDACIONES -->
        <div id="recomendaciones" class="card">
            <h2>Recomendaciones automáticas</h2>

            <div id="reco"></div>
        </div>

    </div>

<script>
    // Datos simulados
    const ciudades = {
        "Bogotá": { gripe: 48, tos: 32, frio: 60, inventario: 22 },
        "Medellín": { gripe: 27, tos: 33, frio: 45, inventario: 41 },
        "Cali": { gripe: -12, tos: 5, frio: 15, inventario: 78 }
    };

    // Gráfica Demanda
    new Chart(document.getElementById('demandaChart'), {
        type: 'line',
        data: {
            labels: ['Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
            datasets: [{
                label: 'Demanda estimada nacional',
                data: [20, 25, 40, 60, 55, 70],
                borderColor: '#0066cc',
                borderWidth: 3,
                fill: false
            }]
        }
    });

    // Gráfica Inventarios
    new Chart(document.getElementById('inventarioChart'), {
        type: 'bar',
        data: {
            labels: ['Bogotá', 'Medellín', 'Cali'],
            datasets: [{
                label: 'Inventarios (%)',
                data: [22, 41, 78],
                backgroundColor: ['red', 'orange', 'green']
            }]
        }
    });

    // Tendencias
    let tendenciasChart = new Chart(document.getElementById('tendenciasChart'), {
        type: 'bar',
        data: {
            labels: ['Gripe', 'Tos', 'Clima frío'],
            datasets: [{
                label: 'Tendencia (últimos 7 días)',
                data: [48, 32, 60],
                backgroundColor: '#0066cc'
            }]
        }
    });

    // Cambiar ciudad dinámicamente
    function cambiarCiudad(ciudad) {
        let data = ciudades[ciudad];
        tendenciasChart.data.datasets[0].data = [data.gripe, data.tos, data.frio];
        tendenciasChart.update();

        document.getElementById('reco').innerHTML = `
            <div class="alerta roja">Recomendación ciudad ${ciudad}: ${
                data.inventario < 30 ? 'Enviar unidades urgentes' : 
                data.inventario < 50 ? 'Refuerzo moderado' :
                'Mantener abastecimiento'
            }</div>
        `;
    }

    // Alertas dashboard
    document.getElementById("alertas").innerHTML = `
        <div class="alerta roja">Bogotá: Búsquedas de gripe +48%</div>
        <div class="alerta amarilla">Medellín: Tendencia de tos +33%</div>
        <div class="alerta verde">Cali: Estable</div>
    `;
</script>

</body>
</html>
<!-- v2 -->
